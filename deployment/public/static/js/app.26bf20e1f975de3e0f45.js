webpackJsonp([1],Array(28).concat([function(t,e,a){function n(t){a(116)}var s=a(3)(a(66),a(132),n,"data-v-cf6ea25a",null);t.exports=s.exports},,function(t,e,a){"use strict";var n=a(4),s=a(49),r=a(56),o=a(55),c=a(57);n.default.use(s.a);var i={app:"monitoring",companies:{hanseaticsoft:{projects:{},logoUrl:"static/img/hs.png"}}};e.a=new s.a.Store({state:i,getters:r.a,actions:o.a,mutations:c.a})},function(t,e,a){"use strict";a.d(e,"b",function(){return n}),a.d(e,"a",function(){return s});var n="LOAD_COMPANY_PROJECTS",s="ADD_PUSH_DATA"},,,,,,,,,,,,,,,,function(t,e,a){function n(t){a(110)}var s=a(3)(a(62),a(126),n,"data-v-181c5598",null);t.exports=s.exports},function(t,e,a){function n(t){a(117)}var s=a(3)(a(65),a(133),n,"data-v-fd83bffc",null);t.exports=s.exports},,function(t,e,a){"use strict";var n=a(4),s=a(134),r=a.n(s),o=a(108);a.n(o);n.default.use(r.a),n.default.material.registerTheme("default",{primary:{color:"cyan",hue:500,textColor:"white"},accent:{color:"pink",hue:"A200"},warn:"red"})},function(t,e,a){"use strict";var n=a(4),s=a(135),r=a(122),o=a.n(r),c=a(123),i=a.n(c);n.default.use(s.a),e.a=new s.a({routes:[{path:"/",name:"Dashboard",component:o.a},{path:"/projects/:companyid",name:"project",component:i.a},{path:"/projects/:companyid/:projectid",name:"projectPage",component:i.a}]})},function(t,e,a){"use strict";var n=a(4),s=a(30),r=a(136),o=a.n(r);n.default.use(o.a,"10.10.1.10:3000",s.a)},function(t,e,a){function n(t){a(113)}var s=a(3)(a(58),a(129),n,"data-v-77c1f1c6",null);t.exports=s.exports},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(4),s=(a(50),a(53)),r=a.n(s),o=a(51),c=a(30);a(52);n.default.config.productionTip=!1,new n.default({el:"#app",router:o.a,store:c.a,template:"<App/>",components:{App:r.a}})},function(t,e,a){"use strict";var n=a(17),s=a.n(n),r=a(19),o=a.n(r),c=a(18),i=a.n(c),u=a(31),d=this,p=function(){var t=i()(o.a.mark(function t(e){var a,n,s;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={method:"get",headers:new Headers({"Content-Type":"application/json"})},t.next=3,fetch("http://10.10.1.10:3000/api/"+e+"/projects",a);case 3:return n=t.sent,t.next=6,n.json();case 6:if(!(s=t.sent)){t.next=9;break}return t.abrupt("return",{companyid:e,projects:s});case 9:case"end":return t.stop()}},t,d)}));return function(e){return t.apply(this,arguments)}}(),l={socket_push:function(t,e){var a=this,n=t.state,r=t.commit,c=t.dispatch;return i()(o.a.mark(function t(){var i,d;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.push.company.toLowerCase(),d=n.companies[i].projects,s()(d).length){t.next=5;break}return t.next=5,c("load_company_projects",{companyid:i});case 5:r(u.a,{pushData:e});case 6:case"end":return t.stop()}},t,a)}))()},load_company_projects:function(t,e){var a=this,n=t.commit,s=e.companyid;return i()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=n,t.t1=u.b,t.next=4,p(s);case 4:t.t2=t.sent,(0,t.t0)(t.t1,t.t2);case 6:case"end":return t.stop()}},t,a)}))()}};e.a=l},function(t,e,a){"use strict";var n=a(17),s=a.n(n),r=function(t){var e=t.companies;return s()(e).map(function(t){return{companyName:t,logoUrl:e[t].logoUrl}})},o={companyCardData:function(t){return r(t)}};e.a=o},function(t,e,a){"use strict";var n,s=a(69),r=a.n(s),o=a(16),c=a.n(o),i=a(31),u=(n={},r()(n,i.a,function(t,e){var a=e.pushData,n=a.push.company.toLowerCase(),s=a.push.repo,r=t.companies[n],o=r.projects[s];!o.changes.find(function(t){return t.uuid===a.uuid})&&o.changes.push(a)}),r()(n,i.b,function(t,e){var a=e.companyid,n=e.projects,s=t.companies[a];c()(n)!==c()(s.projects)&&(s.projects=n)}),n);e.a=u},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app",sockets:{connect:function(){console.log("socket connected")},push:function(t){console.log("Log ::: new message ::: ",t)}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(48),s=a.n(n);e.default={components:{"sync-button":s.a},props:["open","name","date","hash","avatar","message","onSuccess","latestSuccess"]}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"company-card",props:["companyName","logoUrl"]}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(49),s=a(28),r=a.n(s),o=a(47),c=a.n(o),i=a(121),u=a.n(i);e.default={name:"dashboard",computed:a.i(n.b)(["companyCardData"]),components:{topbar:r.a,page:c.a,"company-card":u.a}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(28),s=a.n(n);e.default={name:"page",components:{topbar:s.a},props:{detailed:{type:Boolean,default:!1}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(16),s=a.n(n),r=a(19),o=a.n(r),c=a(17),i=a.n(c),u=a(18),d=a.n(u),p=a(28),l=a.n(p),m=a(47),f=a.n(m),h=a(124),v=a.n(h),_=a(48),g=a.n(_);e.default={name:"hello",components:{topbar:l.a,page:f.a,"push-card":v.a,"sync-button":g.a},beforeMount:function(){var t=this;return d()(o.a.mark(function e(){var a,n,s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.$route.params.companyid,n=t.$store.state.companies[a],s=n.projects,i()(s).length){e.next=6;break}return e.next=6,t.$store.dispatch("load_company_projects",{companyid:a});case 6:t.initializeProjects();case 8:case"end":return e.stop()}},e,t)}))()},data:function(){return{target:"",changes:{},projects:{},localTarget:"",latestSuccess:null}},watch:{$route:"updateChanges"},methods:{initializeProjects:function(){var t=this.$route.params.companyid,e=this.$store.state.companies[t],a=e.projects,n=i()(a)[0],s=a[n],r=s.changes,o=s["proxy-target"],c=s["local-target"];this.target=o,this.localTarget=c,this.changes=r,this.projects=a},updateChanges:function(){var t=this.$route.params.companyid,e=this.$route.query.code,a=this.$store.state.companies[t],n=a.projects,s=n[e],r=s.changes,o=s["proxy-target"],c=s["local-target"];this.localTarget=c,this.changes=r,this.target=o},changeHead:function(t){this.latestSuccess=t},changeProxy:function(t){var e=this;return d()(o.a.mark(function a(){var n,r,c,i,u,d,p;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!t){a.next=11;break}return n=e.$route.params,r=n.companyid,c=n.projectid,i=e.$route.query.code,u={method:"put",headers:new Headers({"Content-Type":"application/json"}),body:s()({target:t})},a.next=6,fetch("http://10.10.1.10:3000/api/"+r+"/projects/"+i+"/proxy-target",u);case 6:return d=a.sent,a.next=9,d.json();case 9:p=a.sent,p&&console.log(p);case 11:case"end":return a.stop()}},a,e)}))()}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(120),s=a.n(n);e.default={components:{"commit-card":s.a},methods:{toggle:function(){this.open=!this.open}},data:function(){return{open:!1}},props:["name","repo","date","avatar","message","commits","onSuccess","latestSuccess"]}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(19),s=a.n(n),r=a(16),o=a.n(r),c=a(18),i=a.n(c);e.default={data:function(){return{status:null,isLoading:!1}},props:["hash","tooltip","topButton","onSuccess","latestSuccess"],methods:{checkout:function(t){var e=this;return i()(s.a.mark(function a(){var n,r,c,i,u,d,p,l;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.status=null,e.isLoading=!0,n=e.$route.params,r=n.companyid,c=n.projectid,i=t?{hash:t}:{},u={method:"post",headers:new Headers({"Content-Type":"application/json"}),body:o()(i)},a.next=7,fetch("http://10.10.1.10:3000/api/"+r+"/projects/"+c+"/syncup",u);case 7:return d=a.sent,a.next=10,d.json();case 10:p=a.sent,p&&(e.isLoading=!1,e.status=p.msg),"success"===p.msg&&(l=e.topButton?"latest":t,e.onSuccess(l));case 13:case"end":return a.stop()}},a,e)}))()}},computed:{computedStatus:function(){var t=this.status,e=this.topButton,a=this.latestSuccess,n=this.hash;return e&&"latest"===a&&"success"===t?"success":n===a&&"success"===t?"success":"error"===t?"error":null}}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={methods:{back:function(){window.history.back()},onTabChange:function(t){var e=this.$refs.tabs.$children,a=e[t+1],n=a.id,s=a.mdOptions.code;this.$router.replace({name:"projectPage",params:{projectid:n},query:{code:s}})}},props:{detailed:{type:Boolean,default:!1},items:{type:Object,default:function(){}}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,function(t,e,a){function n(t){a(114)}var s=a(3)(a(59),a(130),n,"data-v-9863eb88",null);t.exports=s.exports},function(t,e,a){function n(t){a(111)}var s=a(3)(a(60),a(127),n,"data-v-2da842a8",null);t.exports=s.exports},function(t,e,a){function n(t){a(109)}var s=a(3)(a(61),a(125),n,"data-v-02fb0d62",null);t.exports=s.exports},function(t,e,a){function n(t){a(112)}var s=a(3)(a(63),a(128),n,"data-v-5ebb3c14",null);t.exports=s.exports},function(t,e,a){function n(t){a(115)}var s=a(3)(a(64),a(131),n,"data-v-ac9d2f42",null);t.exports=s.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page",[a("topbar",{slot:"header"}),t._v(" "),a("div",[a("h1",{staticClass:"title"},[t._v("Projects")]),t._v(" "),a("hr"),t._v(" "),t._l(t.companyCardData,function(t){return a("company-card",{key:t.companyName,attrs:{"company-name":t.companyName,"logo-url":t.logoUrl}})})],2)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._t("header"),t._v(" "),a("div",{staticClass:"content"},[t._t("default")],2)],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("md-card",{staticClass:"card",attrs:{"md-with-hover":""}},[a("router-link",{attrs:{to:{name:"project",params:{companyid:t.companyName}}}},[a("md-card-media-cover",[a("md-card-media",{attrs:{"md-ratio":"4:3"}},[a("img",{attrs:{src:t.logoUrl,alt:"People"}})]),t._v(" "),a("md-card-area",[a("md-card-header",[a("div",{staticClass:"md-title company-name"},[t._v(t._s(t.companyName))])])],1),t._v(" "),a("md-ink-ripple")],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page",[a("topbar",{attrs:{detailed:!0,items:t.projects},slot:"header"}),t._v(" "),a("md-whiteframe",{staticClass:"changes-container",attrs:{"md-elevation":"3"}},[a("div",{staticClass:"header"},[a("div",{staticClass:"control-bar"},[a("span",{staticClass:"md-display-2 project-name"},[t._v(t._s(this.$route.params.projectid))]),t._v(" "),a("div",{staticClass:"controls"},[a("md-input-container",{staticClass:"select-field"},[a("label",{attrs:{for:"target"}},[t._v("Target")]),t._v(" "),a("md-select",{attrs:{"md-menu-class":"select-field-menu",name:"target",id:"target"},on:{selected:t.changeProxy},model:{value:t.target,callback:function(e){t.target=e},expression:"target"}},[a("md-option",{attrs:{value:"https://staging4.cloudfleetmanager.com"}},[t._v("Staging4")]),t._v(" "),a("md-option",{attrs:{value:"https://staging5.cloudfleetmanager.com"}},[t._v("Staging5")]),t._v(" "),a("md-option",{attrs:{value:t.localTarget}},[t._v("Local")])],1),t._v(" "),a("md-tooltip",{attrs:{"md-direction":"top"}},[t._v("Change proxy target")])],1),t._v(" "),a("sync-button",{attrs:{topButton:!0,onSuccess:t.changeHead,tooltip:"Sync with master",latestSuccess:t.latestSuccess}})],1)]),t._v(" "),a("hr")]),t._v(" "),a("div",{staticClass:"scrollbar"},t._l(t.changes,function(e){return a("push-card",{key:e.uuid,attrs:{onSuccess:t.changeHead,repo:e.push.repo,date:e.push.date,commits:e.commits,latestSuccess:t.latestSuccess,message:e.push.message,name:e.push.author.name,avatar:e.push.author.avatar}})}))])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("transition",{attrs:{name:"slide-fade"}},[a("router-view")],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("md-card",{class:"commit-card "+(t.open?"active":"")},[a("md-card-header",[a("md-card-media",{staticClass:"avatar"},[a("img",{attrs:{src:t.avatar,alt:"People"}})]),t._v(" "),a("md-card-header-text",[a("div",{staticClass:"md-title"},[t._v("Commit "+t._s(t.message)+" by "+t._s(t.name))]),t._v(" "),a("div",{staticClass:"md-subhead"},[t._v("Commited on "+t._s(new Date(t.date).toLocaleString())+" Hash: "+t._s(t.hash))])]),t._v(" "),a("sync-button",{attrs:{hash:t.hash,onSuccess:t.onSuccess,latestSuccess:t.latestSuccess,tooltip:"Checkout to this commit"}})],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"push-card-container"},[a("div",{on:{click:t.toggle}},[a("md-card",{attrs:{"md-with-hover":""}},[a("md-card-header",[a("md-card-media",{staticClass:"avatar"},[a("img",{attrs:{src:t.avatar,alt:"People"}})]),t._v(" "),a("md-card-header-text",[a("div",{staticClass:"md-title"},[t._v(t._s(t.name)+" pushed to repo "+t._s(t.repo)+" - "+t._s(t.message))]),t._v(" "),a("div",{staticClass:"md-subhead"},[t._v("On "+t._s(new Date(t.date).toLocaleString()))])])],1),t._v(" "),a("md-ink-ripple")],1)],1),t._v(" "),t._l(t.commits,function(e){return a("commit-card",{key:e.hash,attrs:{open:t.open,name:e.author.name,message:e.message,date:e.date,avatar:e.author.avatar,hash:e.hash,latestSuccess:t.latestSuccess,onSuccess:t.onSuccess}})})],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("md-toolbar",{staticClass:"md-dense topbar"},[t.detailed?a("div",{staticClass:"detailed"},[a("div",{staticClass:"left",on:{click:t.back}},[a("md-icon",{staticClass:"icon"},[t._v("arrow_back")])],1),t._v(" "),a("md-tabs",{ref:"tabs",staticStyle:{width:"calc(100vw - 4rem)"},on:{change:t.onTabChange}},t._l(t.items,function(t){return a("md-tab",{key:t.id,attrs:{id:t.id,"md-label":t.tabLabel,"md-options":{code:t.code}}})}))],1):t._e(),t._v(" "),t.detailed?t._e():a("img",{staticClass:"header-logo",attrs:{src:"static/img/logo.svg"}}),t._v(" "),t.detailed?t._e():a("h2",{staticClass:"md-title header-text"},[t._v("Monitoring")])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("md-button",{class:"md-icon-button md-fab md-raised "+(t.computedStatus||"md-clean"),attrs:{disabled:t.isLoading||"success"===t.status&&t.hash===t.latestSuccess},on:{click:function(){return t.checkout(t.hash)}}},[a("md-icon",{class:t.isLoading?"animate":""},[t._v("sync")]),t._v(" "),a("md-tooltip",{attrs:{"md-direction":"top"}},[t._v(t._s(t.tooltip))])],1)],1)},staticRenderFns:[]}}]),[54]);
//# sourceMappingURL=app.26bf20e1f975de3e0f45.js.map